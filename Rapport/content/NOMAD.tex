\begin{tikzpicture}
	% instances cylinder
	\node 
		[draw,
		shape=cylinder,
		name=instances, % Can be defined arbitrarily
		alias=cyl, % Will be used by the ellipse to reference the cylinder
		aspect=0.5,
		minimum height=3cm,
		minimum width=2cm,
		outer sep=-0.5\pgflinewidth, % to make sure the ellipse does not draw over the lines
		shape border rotate=90,
		fill=Gray!70]
		(I1) at (1,2) {instances};

	% instance cylinder
	\node 
		[draw,
		shape=cylinder,
		name=instances, % Can be defined arbitrarily
		alias=cyl, % Will be used by the ellipse to reference the cylinder
		aspect=0.5,
		minimum height=3cm,
		minimum width=2cm,
		outer sep=-0.5\pgflinewidth, % to make sure the ellipse does not draw over the lines
		shape border rotate=90]
		(I2) at (5,2) {1 instance};


	% rectangle boxes
	\node
		[rectangle,
		draw,
		rounded corners=4pt,
		minimum height=1cm,
		minimum width=2cm]
		(Bl) at (1,-1) {Blackbox};

	\node
		[rectangle,
		draw,
		rounded corners=4pt,
		minimum height=1cm,
		minimum width=2cm] 
		(NO) at (1,-3) {NOMAD};

		\node
		[rectangle,
		draw,
		rounded corners=4pt,
		minimum height=1cm,
		minimum width=2cm] 
		(py) at (1,-5) {script python};

	% links
	\draw[->,>=latex] (NO) -- (-1,-3) -- (-1,-1) -- (Bl);
	\draw[->,>=latex] (Bl) -- (3,-1) -- (3,-3) -- (NO);
	\draw[->,>=latex] (py) -- (NO);

	\draw[->,>=latex] (Bl) -- (0.5,0.7);
	\draw[->,>=latex] (Bl) -- (1,0.7);
	\draw[->,>=latex] (Bl) -- (1.5,0.7);
	\draw[->,>=latex,dotted] (Bl) -- (4.5,0.7);

   	\draw (5,0) -- (5.6,0) -- (5.6,-0.4) -- (6,-0.4) -- (6,-1.5) -- (5,-1.5) -- cycle;
\end{tikzpicture}